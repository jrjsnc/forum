<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Movie forum</title>
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col" th:replace="fragments::header"></div>
		</div>

		<div class="row">
			<div class="col">
				<table class="topics">

					<th>Topic</th>
	 				<th>Tags</th>
					<th>Comments count</th>
					<th>Author</th>	
					
					<tr th:each="topic : ${topics}">

						<td><a th:href='${"/topic?ident=" +topic.ident}'><span
								th:text='${topic.title}' /></a></td>
								
- 						<td> <span th:each="tag : ${topic.getTags()}"><span th:text="${tag.name}"/></span></td>

						<td><span th:text='${topic.getComments().size()}' /></td>

						<td> <span
							th:text='${topic.getForumUser().getLogin()}' /> </td>		
					</tr>

				</table>

				<div>

					<span th:if='${@userController.Logged}'> <span
						th:if='${#strings.toString(@userController.loggedUser.restriction) == "ADMIN"}'>
							<a th:href='${"/admin"}'>admin</a>
					</span>
					</span>

				</div>

				<span th:if='${@userController.Logged}'>

					<form action="/addTopic" method="post">

						Add Topic: <input type="text" name="title"
							placeholder="Add topic here" required="required"/> <input type="submit"
							value="Post" />
					</form>
				</span>
			</div>
		</div>



		<div class="row">
			<div class="col" th:replace="fragments::footer"></div>
		</div>
	</div>
</body>
<script src="js/forum.js"/>
</html>